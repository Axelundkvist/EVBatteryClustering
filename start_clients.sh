#!/bin/bash

# datafilsvägarna
datafiles=(
"/Users/Axel/Documents/Master/MasterThesis/DataSets/IndianFleetData/BatteryFleetData/device_54309277.csv"
"/Users/Axel/Documents/Master/MasterThesis/DataSets/IndianFleetData/BatteryFleetData/device_54318476.csv"
"/Users/Axel/Documents/Master/MasterThesis/DataSets/IndianFleetData/BatteryFleetData/device_54357508.csv"
"/Users/Axel/Documents/Master/MasterThesis/DataSets/IndianFleetData/BatteryFleetData/device_57578092.csv"
"/Users/Axel/Documents/Master/MasterThesis/DataSets/IndianFleetData/BatteryFleetData/device_57578142.csv"
"/Users/Axel/Documents/Master/MasterThesis/DataSets/IndianFleetData/BatteryFleetData/device_57583126.csv"
"/Users/Axel/Documents/Master/MasterThesis/DataSets/IndianFleetData/BatteryFleetData/device_57584900.csv"
"/Users/Axel/Documents/Master/MasterThesis/DataSets/IndianFleetData/BatteryFleetData/device_57615043.csv"
"/Users/Axel/Documents/Master/MasterThesis/DataSets/IndianFleetData/BatteryFleetData/device_57615431.csv"
"/Users/Axel/Documents/Master/MasterThesis/DataSets/IndianFleetData/BatteryFleetData/device_57622858.csv"
)


# tokens för norhterly projektet

# tokens=(
# "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDA1ODY4LCJpYXQiOjE3NDM0MTM4NjgsImp0aSI6ImNhYzEyOWEwM2Q5OTRhMzdhYWQyOWFiODk2ZWM3NTQ0IiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoiYXhlbG5vcnRoZXJseS1rZ2kifQ.-r7EMIZMe7P2Bnn__N27BrVQDJecXN6hrgatv5ukmTI"
# "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDEwODE3LCJpYXQiOjE3NDM0MTg4MTcsImp0aSI6ImE2ZTViYzdiZWMzMTRiZTc4OTlhMWU5MDY3MzJiYjBjIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoiYXhlbG5vcnRoZXJseS1rZ2kifQ.HyFXC1N-VaWz7OiaxD95fdtJ0qVbkYmE09MPuy8h9xU"
# "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDEwODE3LCJpYXQiOjE3NDM0MTg4MTcsImp0aSI6ImE2ZTViYzdiZWMzMTRiZTc4OTlhMWU5MDY3MzJiYjBjIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoiYXhlbG5vcnRoZXJseS1rZ2kifQ.HyFXC1N-VaWz7OiaxD95fdtJ0qVbkYmE09MPuy8h9xU"
# "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDEwODQ4LCJpYXQiOjE3NDM0MTg4NDgsImp0aSI6ImY3NzQ3NTY1ZDQyMjQ2Y2E5OWYyM2IxNDE2NWUyOWE2IiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoiYXhlbG5vcnRoZXJseS1rZ2kifQ.Bqqf0f_4aborAOc5AhT95UPwexAjQJGLabNuXabqIzM"
# "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDEwODQ4LCJpYXQiOjE3NDM0MTg4NDgsImp0aSI6ImY3NzQ3NTY1ZDQyMjQ2Y2E5OWYyM2IxNDE2NWUyOWE2IiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoiYXhlbG5vcnRoZXJseS1rZ2kifQ.Bqqf0f_4aborAOc5AhT95UPwexAjQJGLabNuXabqIzM"
# "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDEwODcyLCJpYXQiOjE3NDM0MTg4NzIsImp0aSI6IjA2OGU2YmE4YmRhMjQ2N2ZiNGFlYmVkZTcxNWM1MWIzIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoiYXhlbG5vcnRoZXJseS1rZ2kifQ.iuLpLw3qpHpkfFopTb1mdIK53J8Mn92WnzSkf_jsBOU"
# "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDEwODc3LCJpYXQiOjE3NDM0MTg4NzcsImp0aSI6ImFmMTI4YWY1N2I3MzRmYTU4MjM2MTdjY2M4YzU5ZmJlIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoiYXhlbG5vcnRoZXJseS1rZ2kifQ.qmx9_IG8CsuA72QLyYpANDr_nolRtnjASuuUVSIVWsA"
# "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDEwODgwLCJpYXQiOjE3NDM0MTg4ODAsImp0aSI6IjI0YmQxNGQxMGNkOTQ3YTY4YTZkMDJiNGEwMzJkZTYyIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoiYXhlbG5vcnRoZXJseS1rZ2kifQ.fmRhWmvOHEO2P3VcX7l4cwgUoVpYzsqRuqlIouLwneE"
# "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDEwODg0LCJpYXQiOjE3NDM0MTg4ODQsImp0aSI6IjAxMjhlMGI4NThhODRlMTBiMWM5ZjYwYjJmZDU3NGVkIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoiYXhlbG5vcnRoZXJseS1rZ2kifQ.LbMLWjVaAI72M2z9b9AF_w_rWy7AIu5YMVxDqMiKv-Y"
# "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDEwODkyLCJpYXQiOjE3NDM0MTg4OTIsImp0aSI6IjY3YWE4MTgxOWUyNzQ1NjViN2U2YjEzMTNkN2RhY2E0IiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoiYXhlbG5vcnRoZXJseS1rZ2kifQ.EGPerp6QlojIpC7IYJzehhEMI2ZezeLWjHnrk1k73g4"
# )
# for i in {0..3}
# do
#     echo "Starting client $i with dataset ${datafiles[$i]}"
#     export FEDN_DATA_PATH=${datafiles[$i]}
#     fedn client start \
#         --api-url api.fedn.scaleoutsystems.com/axelnortherly-kgi-fedn-reducer \
#         --token ${tokens[$i]} &
#     sleep 2
# done

# echo "All clients started!"




#export FEDN_PACKAGE_EXTRACT_DIR=client/package
#export FEDN_PACKAGE=./client/package.tgz
#export FEDN_PACKAGE_EXTRACT_DIR=/bin/bash
'''
for i in {0..3}
do
    echo "Starting client $i with dataset ${datafiles[$i]}"
    export FEDN_DATA_PATH=${datafiles[$i]}
    fedn client start \
        --api-url api.fedn.scaleoutsystems.com/axelnortherly-kgi-fedn-reducer \
        --token ${tokens[$i]} &
    sleep 2
done

echo "All clients started!"
'''
#api.fedn.scaleoutsystems.com/evbatteryclusteringprojectnewattempt-zhk-fedn-reducer


# tokens för clustering projektet (ditt trejde 3 April projekt)
tokens=(
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjU4NTYwLCJpYXQiOjE3NDM2NjY1NjAsImp0aSI6IjllYTAwYTEyNDEyYjRlYWViYmRiZDk1NTU2MmJkOGE2IiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoic2VydmVyZnVuY3Rpb25tb2RpZmNhdGlvbi1udHAifQ.fmjVyxhghPVX-4bVUqfpK_sz_0RR43uG2JrDz-58XD0"
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjU5MjE3LCJpYXQiOjE3NDM2NjcyMTcsImp0aSI6ImNhNzE0NzUyNThmNTRkZmFiYThhYTM0YjgzNWJiMTgyIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoic2VydmVyZnVuY3Rpb25tb2RpZmNhdGlvbi1udHAifQ.I5HIeEFaP4vSCx4e7XFhiECR5LKoQsxS3q2I2xPEOhM"
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjU5Mjg4LCJpYXQiOjE3NDM2NjcyODgsImp0aSI6IjQzYThlMzhiYTFjMzQyODM4OTg2MWYxMjk1NGVjMzVlIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoic2VydmVyZnVuY3Rpb25tb2RpZmNhdGlvbi1udHAifQ.Bf44eL-sCuuQ5qhYn4O1-BqjBDx9wYOXUt8kc1tOW1A"
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjU5MzIxLCJpYXQiOjE3NDM2NjczMjEsImp0aSI6IjMzZGM2Y2Y1ZjllZTRmZDI4NmQyODUxZjExMjBjZjcxIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoic2VydmVyZnVuY3Rpb25tb2RpZmNhdGlvbi1udHAifQ.uWjT0Y-Vk7mFLvpi5-KVrWZyYzKGQvMqpNS3gvGnsLE"
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjU5MzM2LCJpYXQiOjE3NDM2NjczMzYsImp0aSI6ImFkNzRiZGVmZWJiZjQ1ZDA5MzIwODk0YmFjMjcyYjdjIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoic2VydmVyZnVuY3Rpb25tb2RpZmNhdGlvbi1udHAifQ.DeJmc49BKA1uqI7quzsoUnLThsZFtaGIkTdGHjY7m64"
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjU5MzQ2LCJpYXQiOjE3NDM2NjczNDYsImp0aSI6IjY2NzEyMTZlY2Y5ODQzZTBhYmZjMjZmYmE1MGExMzc1IiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoic2VydmVyZnVuY3Rpb25tb2RpZmNhdGlvbi1udHAifQ.hkenTc0w6kS6oOYuDawfh2HaoLUn-n78KPln8bDotQ0"
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjU5MzU0LCJpYXQiOjE3NDM2NjczNTQsImp0aSI6IjY5MTQyYzAyYzljZTRlYzlhNWM2YmQzNzExYzQzMWEzIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoic2VydmVyZnVuY3Rpb25tb2RpZmNhdGlvbi1udHAifQ.SUqZe6dlyoONaPYupTihZVHMU9pTdFAfoMqfWoCyYqI"
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjU5MzYyLCJpYXQiOjE3NDM2NjczNjIsImp0aSI6Ijk2NDhjZmUyYTg0MzRhNTBiMzI3YWM1N2U2ZTYxMjE3IiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoic2VydmVyZnVuY3Rpb25tb2RpZmNhdGlvbi1udHAifQ.k9sVffdh7ii_FTjOCiduitECSWQRj35j07DVZfX72do"
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjU5MzcxLCJpYXQiOjE3NDM2NjczNzEsImp0aSI6IjhhNjQ4MjhhNjE2ZTQyOWViZmI5MjM0NzM4MjgwNGU2IiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoic2VydmVyZnVuY3Rpb25tb2RpZmNhdGlvbi1udHAifQ.8Me9V_x6W0pothDc-esdNoCaRTLtCXZ_AFLXSQ-YXI8"
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjU5Mzc3LCJpYXQiOjE3NDM2NjczNzcsImp0aSI6Ijk3YTEzMzk2MTRjMzQxMWE5NjRhY2M3YWRjYTU1MTg3IiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoic2VydmVyZnVuY3Rpb25tb2RpZmNhdGlvbi1udHAifQ.9rz2b3R3Z0YBTE8LPbzPyu9el9efBpqukrg93psll34"
)

client_id=(
"62770d69-41de-4603-bb2e-022445e46d49"
"154b52d3-1629-4c1c-9202-4f558e7f2968"
"29e2a5df-a787-4494-ade1-ab04dda73dc5"
"1f842604-d0e4-4422-be86-30b69ea5f082"
"1d243d1d-5499-471e-9709-d46cd81aaf23"
"bc8fbf15-797c-43f0-8553-90b74cdda0b5"
"b60b8050-5dd1-4fd4-a811-17dc639705b8"
"50ed4ae3-c180-4038-9a2a-8e950403c2e9"
"client 9"
"client 10"
)

#eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjU5Mzg3LCJpYXQiOjE3NDM2NjczODcsImp0aSI6ImZmNzkwY2Y2NGExMTRlNjVhMjI0N2IxZTdhNTkzNDBhIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoic2VydmVyZnVuY3Rpb25tb2RpZmNhdGlvbi1udHAifQ.yW121LJH4IGn70w2ED5qtYCx4m5fp_ioQkyOz0dgJ98 --client-id 8ba3ae09-60b0-46a2-9a87-507a4d83948d



#export FEDN_PACKAGE_EXTRACT_DIR=client/package
#export FEDN_PACKAGE_EXTRACT_DIR=package
for i in {0..3}
do
    echo "Starting client $i with dataset ${datafiles[$i]}"
    
    export FEDN_DATA_PATH=${datafiles[$i]}
    DATA_PATH=${datafiles[$i]} fedn client start --api-url api.fedn.scaleoutsystems.com/serverfunctionmodifcation-ntp-fedn-reducer --token ${tokens[$i]} --client-id ${client_id[$i]} &
    sleep 1
done
echo "All clients started!"



