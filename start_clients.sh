#!/bin/bash

# datafilsvägarna
datafiles=(
"/Users/Axel/Documents/Master/MasterThesis/DataSets/IndianFleetData/BatteryFleetData/device_54309277.csv"
"/Users/Axel/Documents/Master/MasterThesis/DataSets/IndianFleetData/BatteryFleetData/device_54318476.csv"
"/Users/Axel/Documents/Master/MasterThesis/DataSets/IndianFleetData/BatteryFleetData/device_54357508.csv"
"/Users/Axel/Documents/Master/MasterThesis/DataSets/IndianFleetData/BatteryFleetData/device_57578092.csv"
"/Users/Axel/Documents/Master/MasterThesis/DataSets/IndianFleetData/BatteryFleetData/device_57578142.csv"
"/Users/Axel/Documents/Master/MasterThesis/DataSets/IndianFleetData/BatteryFleetData/device_57583126.csv"
"/Users/Axel/Documents/Master/MasterThesis/DataSets/IndianFleetData/BatteryFleetData/device_57584900.csv"
"/Users/Axel/Documents/Master/MasterThesis/DataSets/IndianFleetData/BatteryFleetData/device_57615043.csv"
"/Users/Axel/Documents/Master/MasterThesis/DataSets/IndianFleetData/BatteryFleetData/device_57615431.csv"
"/Users/Axel/Documents/Master/MasterThesis/DataSets/IndianFleetData/BatteryFleetData/device_57622858.csv"
)


# tokens för norhterly projektet

# tokens=(
# "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDA1ODY4LCJpYXQiOjE3NDM0MTM4NjgsImp0aSI6ImNhYzEyOWEwM2Q5OTRhMzdhYWQyOWFiODk2ZWM3NTQ0IiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoiYXhlbG5vcnRoZXJseS1rZ2kifQ.-r7EMIZMe7P2Bnn__N27BrVQDJecXN6hrgatv5ukmTI"
# "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDEwODE3LCJpYXQiOjE3NDM0MTg4MTcsImp0aSI6ImE2ZTViYzdiZWMzMTRiZTc4OTlhMWU5MDY3MzJiYjBjIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoiYXhlbG5vcnRoZXJseS1rZ2kifQ.HyFXC1N-VaWz7OiaxD95fdtJ0qVbkYmE09MPuy8h9xU"
# "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDEwODE3LCJpYXQiOjE3NDM0MTg4MTcsImp0aSI6ImE2ZTViYzdiZWMzMTRiZTc4OTlhMWU5MDY3MzJiYjBjIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoiYXhlbG5vcnRoZXJseS1rZ2kifQ.HyFXC1N-VaWz7OiaxD95fdtJ0qVbkYmE09MPuy8h9xU"
# "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDEwODQ4LCJpYXQiOjE3NDM0MTg4NDgsImp0aSI6ImY3NzQ3NTY1ZDQyMjQ2Y2E5OWYyM2IxNDE2NWUyOWE2IiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoiYXhlbG5vcnRoZXJseS1rZ2kifQ.Bqqf0f_4aborAOc5AhT95UPwexAjQJGLabNuXabqIzM"
# "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDEwODQ4LCJpYXQiOjE3NDM0MTg4NDgsImp0aSI6ImY3NzQ3NTY1ZDQyMjQ2Y2E5OWYyM2IxNDE2NWUyOWE2IiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoiYXhlbG5vcnRoZXJseS1rZ2kifQ.Bqqf0f_4aborAOc5AhT95UPwexAjQJGLabNuXabqIzM"
# "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDEwODcyLCJpYXQiOjE3NDM0MTg4NzIsImp0aSI6IjA2OGU2YmE4YmRhMjQ2N2ZiNGFlYmVkZTcxNWM1MWIzIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoiYXhlbG5vcnRoZXJseS1rZ2kifQ.iuLpLw3qpHpkfFopTb1mdIK53J8Mn92WnzSkf_jsBOU"
# "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDEwODc3LCJpYXQiOjE3NDM0MTg4NzcsImp0aSI6ImFmMTI4YWY1N2I3MzRmYTU4MjM2MTdjY2M4YzU5ZmJlIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoiYXhlbG5vcnRoZXJseS1rZ2kifQ.qmx9_IG8CsuA72QLyYpANDr_nolRtnjASuuUVSIVWsA"
# "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDEwODgwLCJpYXQiOjE3NDM0MTg4ODAsImp0aSI6IjI0YmQxNGQxMGNkOTQ3YTY4YTZkMDJiNGEwMzJkZTYyIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoiYXhlbG5vcnRoZXJseS1rZ2kifQ.fmRhWmvOHEO2P3VcX7l4cwgUoVpYzsqRuqlIouLwneE"
# "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDEwODg0LCJpYXQiOjE3NDM0MTg4ODQsImp0aSI6IjAxMjhlMGI4NThhODRlMTBiMWM5ZjYwYjJmZDU3NGVkIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoiYXhlbG5vcnRoZXJseS1rZ2kifQ.LbMLWjVaAI72M2z9b9AF_w_rWy7AIu5YMVxDqMiKv-Y"
# "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDEwODkyLCJpYXQiOjE3NDM0MTg4OTIsImp0aSI6IjY3YWE4MTgxOWUyNzQ1NjViN2U2YjEzMTNkN2RhY2E0IiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoiYXhlbG5vcnRoZXJseS1rZ2kifQ.EGPerp6QlojIpC7IYJzehhEMI2ZezeLWjHnrk1k73g4"
# )
# for i in {0..3}
# do
#     echo "Starting client $i with dataset ${datafiles[$i]}"
#     export FEDN_DATA_PATH=${datafiles[$i]}
#     fedn client start \
#         --api-url api.fedn.scaleoutsystems.com/axelnortherly-kgi-fedn-reducer \
#         --token ${tokens[$i]} &
#     sleep 2
# done

# echo "All clients started!"




#export FEDN_PACKAGE_EXTRACT_DIR=client/package
#export FEDN_PACKAGE=./client/package.tgz
#export FEDN_PACKAGE_EXTRACT_DIR=/bin/bash
'''
for i in {0..3}
do
    echo "Starting client $i with dataset ${datafiles[$i]}"
    export FEDN_DATA_PATH=${datafiles[$i]}
    fedn client start \
        --api-url api.fedn.scaleoutsystems.com/axelnortherly-kgi-fedn-reducer \
        --token ${tokens[$i]} &
    sleep 2
done

echo "All clients started!"
'''
#api.fedn.scaleoutsystems.com/evbatteryclusteringprojectnewattempt-zhk-fedn-reducer


# tokens för clustering projektet (ditt trejde 3 April projekt)
tokens=(
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NjA2MTI0LCJpYXQiOjE3NDQwMTQxMjQsImp0aSI6ImQzNjQ0ZDkzNDAxYzQ3Y2I4YWZiOTcxYTc4OTUzZWQzIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoicHJvamVjdG51bWJlci1oa2IifQ.VbV1Wbm0VqP7W5ETBVjwj4NcTnLobc_IMMM1PR8ez30"
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NjA2MTQ3LCJpYXQiOjE3NDQwMTQxNDcsImp0aSI6IjE2OWZjZGU1ZDY0NjRmODg4ZTdhNDk1ZjI0YjcyYjMxIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoicHJvamVjdG51bWJlci1oa2IifQ.p_y9xO3zuQgDtgzOzCkYlCPu9S5qykqJWuxGud5Meks"
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NjA2MTU0LCJpYXQiOjE3NDQwMTQxNTQsImp0aSI6ImEzNmNjY2JkZDMyNzQ3NWY4Y2E3MzExOTg4N2ZjZGNiIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoicHJvamVjdG51bWJlci1oa2IifQ.zBH__7u46gQrxFgqzV5Bcq_eYdoqEvpgrvxiDzPvtb0"
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NjA2MTYxLCJpYXQiOjE3NDQwMTQxNjEsImp0aSI6ImMyNzYwMzIyMjE2ZTQxZGE4OWFhNmM2NDY5YTRiOTc4IiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoicHJvamVjdG51bWJlci1oa2IifQ.-KdsXYFkjxkG6tbdsQB-63MvY-r-lfIiYWgzQDpqK4Q"
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NjA2MTY2LCJpYXQiOjE3NDQwMTQxNjYsImp0aSI6ImNlMjU5YjcwMDljMzRmZDNhMTFjNTgyOWYwMmViZTg4IiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoicHJvamVjdG51bWJlci1oa2IifQ.r8aq1SPDPs0vBKoMvxtmXuPRIIIwTmhh2rM70VWZKJc"
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NjA2MTcyLCJpYXQiOjE3NDQwMTQxNzIsImp0aSI6IjZkMzdhODczYmFiMjRiMDBiY2M4YWUwM2ZjNGEyNjg5IiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoicHJvamVjdG51bWJlci1oa2IifQ.tedO00Y5t4JlnXmugU9Ux0Xxre13AXv_aua-NU2NufU"
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NjA2MTc4LCJpYXQiOjE3NDQwMTQxNzgsImp0aSI6IjgyYzkxM2IxMDM3YzQ5ZDBiZTY1ZDJmYTliMDNjZGVhIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoicHJvamVjdG51bWJlci1oa2IifQ.wDDz0d2O6RmkIlwU7cWvdLN4ZL_SgQnxTqCoqjy-tA4"
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NjA2MTgyLCJpYXQiOjE3NDQwMTQxODIsImp0aSI6IjJlMWMyOWFiNjljZTQ0ZTBiZjU1ZDBmYjg4YTk1YjdlIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoicHJvamVjdG51bWJlci1oa2IifQ.fOCbS3CGFvoZy3oYp6wXNo4iFoquDWYELxlDrUfzWNQ"
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NjA2MTg4LCJpYXQiOjE3NDQwMTQxODgsImp0aSI6IjA5NGYwMDE1MmQ3NzQ5M2JiN2UyYWE1NmM1ZGY0MDIxIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoicHJvamVjdG51bWJlci1oa2IifQ.4Kk3Ct-72smoy3Re14tJnmv9HZeYJd7flBDrCdf2B_g"
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NjA2MTk2LCJpYXQiOjE3NDQwMTQxOTYsImp0aSI6IjY3YmUyYjgzN2YwZTQwNDhhNDY1MDllY2RjYWY0NDI3IiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoicHJvamVjdG51bWJlci1oa2IifQ.2g4HKPasWKhxeCIfgmFSYr927ecON8FNVd078IeaVkM"
)

client_id=(
"62770d69-41de-4603-bb2e-022445e46d49"
"154b52d3-1629-4c1c-9202-4f558e7f2968"
"29e2a5df-a787-4494-ade1-ab04dda73dc5"
"1f842604-d0e4-4422-be86-30b69ea5f082"
"1d243d1d-5499-471e-9709-d46cd81aaf23"
"bc8fbf15-797c-43f0-8553-90b74cdda0b5"
"b60b8050-5dd1-4fd4-a811-17dc639705b8"
"50ed4ae3-c180-4038-9a2a-8e950403c2e9"
"client 9"
"client 10"
)

#eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjU5Mzg3LCJpYXQiOjE3NDM2NjczODcsImp0aSI6ImZmNzkwY2Y2NGExMTRlNjVhMjI0N2IxZTdhNTkzNDBhIiwidXNlcl9pZCI6MTIxMywiY3JlYXRvciI6ImF4ZWxwMDBAaG90bWFpbC5jb20iLCJyb2xlIjoiY2xpZW50IiwicHJvamVjdF9zbHVnIjoic2VydmVyZnVuY3Rpb25tb2RpZmNhdGlvbi1udHAifQ.yW121LJH4IGn70w2ED5qtYCx4m5fp_ioQkyOz0dgJ98 --client-id 8ba3ae09-60b0-46a2-9a87-507a4d83948d



#export FEDN_PACKAGE_EXTRACT_DIR=client/package
#export FEDN_PACKAGE_EXTRACT_DIR=package
for i in {0..3}
do
    echo "Starting client $i with dataset ${datafiles[$i]}"
    
    export FEDN_DATA_PATH=${datafiles[$i]}
    DATA_PATH=${datafiles[$i]} fedn client start --api-url api.fedn.scaleoutsystems.com/projectnumber-hkb-fedn-reducer --token ${tokens[$i]} --client-id ${client_id[$i]} &
    sleep 1
done
echo "All clients started!"



